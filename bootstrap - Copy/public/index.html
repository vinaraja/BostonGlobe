<!DOCTYPE html>
<html lang="en">
  <head>
 
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>News Updates</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
     <style>
		body {
		padding-top: 3px;
		padding-right: 50px;
		padding-bottom: 5px;
		padding-left: 50px;
	}
	.container-fluid{
		height:80px;
		background-color:#800;
	}
</style>
  </head>
  <body onLoad="onInterval()">
  <div class="container-fluid" >
       <div class="row" >
        <div class="col-md-5"></div>
                <div class="col-md-3">
                        <div class="navbar-header">
                        <h1>Live feed</h1>
                        </div>
                </div>
            <div class="col-md-4"></div>
        </div>
    </div>
    <br>
    <div class="row" >
    <div class="col-md-6">
    		<div class="panel panel-primary">
            	<div class="panel-body">
                    <div class="media">
                          <div class="media-left">
                            <a href="#">
                              <img class="media-object" src="../img/world.jpg" style:"width=400px; height=200px" >
                            </a>
                          </div>
                          <br>
                          <div class="media-body">
                            <h4 class="media-heading">World News</h4>
                            <ol>
                           	<li> <p id="World1"></p> </li>
                            <li> <p id="World2"></p> </li>
                            <li> <p id="World3"></p> </li>
                            <li> <p id="World4"></p> </li>
                            <li> <p id="World5"></p> </li>
                            </ol>
                          </div>
                    </div>
                 </div>
            </div>
		</div>
			<div class="col-md-6">
            	<div class="panel panel-primary">
                        <div class="panel-body">
                            <div class="media">
                                  <div class="media-left">
                                    <a href="#">
                                      <img class="media-object" src="../img/entertainment.jpg" style:"400px; height=200px" >
                                    </a>
                                  </div>
                                  <br>
                                  <div class="media-body">
                                    <h4 class="media-heading">Entertainment</h4>
                                    <ol>
                                        <li> <p id="Entertainment1"></p> </li>
                                        <li> <p id="Entertainment2"></p> </li>
                                        <li> <p id="Entertainment3"></p> </li>
                                        <li> <p id="Entertainment4"></p> </li>
                                        <li> <p id="Entertainment5"></p> </li>
                                    </ol>
                                  </div>
                            </div>
                           </div>
                    </div>
			</div>
        </div>
        <br>
    	<div class="row">    
			<div class="col-md-6">
            	<div class="panel panel-primary">
                        <div class="panel-body">
                            <div class="media">
                                  <div class="media-left">
                                    <a href="#">
                                      <img class="media-object" src="../img/travel.jpg" style:"width=400px; height=200px">
                                    </a>
                                  </div>
                                  <br>
                                  <div class="media-body">
                                    <h4 class="media-heading">Travel</h4>
                                   <ol>
                                        <li> <p id="Travel1"></p> </li>
                                        <li> <p id="Travel2"></p> </li>
                                        <li> <p id="Travel3"></p> </li>
                                        <li> <p id="Travel4"></p> </li>
                                        <li> <p id="Travel5"></p> </li>
                                    </ol>
                                  </div>
                            </div>
                          </div>
                  </div>
			</div>
			<div class="col-md-6">
                <div class="panel panel-primary">
                            <div class="panel-body">
                                    <div class="media">
                                  <div class="media-left">
                                    <a href="#">
                                      <img class="media-object" src="../img/health.jpg" style:"width=400px; height=200px" >
                                    </a>
                                  </div>
                                  <br>
                                  <div class="media-body">
                                    <h4 class="media-heading">Health</h4>
                                    <ol>
                                        <li> <p id="Health1"></p> </li>
                                        <li> <p id="Health2"></p> </li>
                                        <li> <p id="Health3"></p> </li>
                                        <li> <p id="Health4"></p> </li>
                                        <li> <p id="Health5"></p> </li>
                                    </ol>
                                  </div>
                            </div>
                          </div>
                      </div>
                      
			</div>
		</div>
        
        <div class="row">
			<div class="col-md-6">
                <div class="panel panel-primary">
                            <div class="panel-body">
                                    <div class="media">
                                  <div class="media-left">
                                    <a href="#">
                                      <img class="media-object" src="../img/keyboard.jpg" style:"width=400px; height=200px" >
                                    </a>
                                  </div>
                                  <br>
                                  <div class="media-body">
                                    <h4 class="media-heading">Technology</h4>
                                  <ol>
                                        <li> <p id="Technology1"></p> </li>
                                        <li> <p id="Technology2"></p> </li>
                                        <li> <p id="Technology3"></p> </li>
                                        <li> <p id="Technology4"></p> </li>
                                        <li> <p id="Technology5"></p> </li>
                                   </ol>
                                  </div>
                            </div>
                          </div>
                      </div>
                      
			</div>
            <div class="col-md-6">
                <div class="panel panel-primary">
                            <div class="panel-body">
                                    <div class="media">
                                  <div class="media-left">
                                    <a href="#">
                                      <img class="media-object" src="../img/students.jpg" style:"width=400px; height=200px" >
                                    </a>
                                  </div>
                                  <br>
                                  <div class="media-body">
                                    <h4 class="media-heading">UNITED STATES OF AMERICA</h4>
                                    <ol>
                                        <li> <p id="Student1"></p> </li>
                                        <li> <p id="Student2"></p> </li>
                                        <li> <p id="Student3"></p> </li>
                                        <li> <p id="Student4"></p> </li>
                                        <li> <p id="Student5"></p> </li>
                                   </ol>
                                  </div>
                            </div>
                          </div>
                      </div>
                      
			</div>
		</div>
		
		<br><br><br>
		
	
	
	
	

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script>
	$( document ).ready(function() 
				{
					var interval=setInterval(onInterval,10000);
				});
				function onInterval(){
				var myhttp = new XMLHttpRequest();
				var myhttp1 = new XMLHttpRequest();
				var myhttp2 = new XMLHttpRequest();
				var myhttp3 = new XMLHttpRequest();
				var myhttp4 = new XMLHttpRequest();
				var myhttp5 = new XMLHttpRequest();
       			var url = "http://localhost:3600/test";
				var url1 = "http://localhost:3600/technology";
				var url2 = "http://localhost:3600/student";
				var url3 = "http://localhost:3600/health";
				var url4 = "http://localhost:3600/entertainment";
				var url5 = "http://localhost:3600/travel";
				
				console.log("calling url");
				
				myhttp.open('GET', url, true);
       			myhttp.onreadystatechange = function() {        
           				if ((myhttp.readyState == 4) && (myhttp.status == 200)){
               			//alert(myhttp.responseText);
						data=myhttp.responseText;
						parser=new DOMParser();
   						xmlDoc=parser.parseFromString(data,"text/xml");
						for (i=1;i<6;i++)
						{
						var s=xmlDoc.getElementsByTagName("title")[i+1].childNodes[0].nodeValue;
						//console.log(s);
						$('#World'+i).text(s);
						}
           			}
           			else if ((myhttp.readyState == 4) && (myhttp.status != 200))
           			{
               			console.log("Error in Connection");
           			}
				}
				myhttp.send();
				
				
				myhttp1.open('GET', url1, true);
       			myhttp1.onreadystatechange = function() {        
           				if ((myhttp1.readyState == 4) && (myhttp1.status == 200)){
               			//alert(myhttp.responseText);
						data=myhttp1.responseText;
						parser=new DOMParser();
   						xmlDoc=parser.parseFromString(data,"text/xml");
						for (i=1;i<6;i++)
						{
						var s=xmlDoc.getElementsByTagName("title")[i+1].childNodes[0].nodeValue;
						//console.log(s);
						$('#Technology'+i).text(s);
						}
           			}
           			else if ((myhttp1.readyState == 4) && (myhttp1.status != 200))
           			{
               			console.log("Error in Connection");
           			}
				}
				myhttp1.send();
				
				
				myhttp2.open('GET', url2, true);
       			myhttp2.onreadystatechange = function() {        
           				if ((myhttp2.readyState == 4) && (myhttp2.status == 200)){
               			//alert(myhttp.responseText);
						data=myhttp2.responseText;
						parser=new DOMParser();
   						xmlDoc=parser.parseFromString(data,"text/xml");
						for (i=1;i<6;i++)
						{
						var s=xmlDoc.getElementsByTagName("title")[i+1].childNodes[0].nodeValue;
						console.log(s);
						$('#Student'+i).text(s);
						}
           			}
           			else if ((myhttp2.readyState == 4) && (myhttp2.status != 200))
           			{
               			console.log("Error in Connection");
           			}
				}
				myhttp2.send();
				
				
				myhttp3.open('GET', url3, true);
       			myhttp3.onreadystatechange = function() {        
           				if ((myhttp3.readyState == 4) && (myhttp3.status == 200)){
               			//alert(myhttp.responseText);
						data=myhttp3.responseText;
						parser=new DOMParser();
   						xmlDoc=parser.parseFromString(data,"text/xml");
						for (i=1;i<6;i++)
						{
						var s=xmlDoc.getElementsByTagName("title")[i+1].childNodes[0].nodeValue;
						//console.log(s);
						$('#Health'+i).text(s);
						}
           			}
           			else if ((myhttp3.readyState == 4) && (myhttp3.status != 200))
           			{
               			console.log("Error in Connection");
           			}
				}
				myhttp3.send();
				
				
				myhttp4.open('GET', url4, true);
       			myhttp4.onreadystatechange = function() {        
           				if ((myhttp4.readyState == 4) && (myhttp4.status == 200)){
               			//alert(myhttp.responseText);
						data=myhttp4.responseText;
						parser=new DOMParser();
   						xmlDoc=parser.parseFromString(data,"text/xml");
						for (i=1;i<6;i++)
						{
						var s=xmlDoc.getElementsByTagName("title")[i+1].childNodes[0].nodeValue;
						//console.log(s);
						$('#Entertainment'+i).text(s);
						}
           			}
           			else if ((myhttp4.readyState == 4) && (myhttp4.status != 200))
           			{
               			console.log("Error in Connection");
           			}
				}
				myhttp4.send();
				
				myhttp5.open('GET', url5, true);
       			myhttp5.onreadystatechange = function() {        
           				if ((myhttp5.readyState == 4) && (myhttp5.status == 200)){
               			//alert(myhttp.responseText);
						data=myhttp5.responseText;
						parser=new DOMParser();
   						xmlDoc=parser.parseFromString(data,"text/xml");
						for (i=1;i<6;i++)
						{
						var s=xmlDoc.getElementsByTagName("title")[i+1].childNodes[0].nodeValue;
						console.log(s);
						$('#Travel'+i).text(s);
						}
           			}
           			else if ((myhttp5.readyState == 4) && (myhttp5.status != 200))
           			{
               			console.log("Error in Connection");
           			}
				}
				myhttp5.send();
				
				}
	</script>
  </body>
</html>